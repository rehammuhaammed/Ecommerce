<section class="relative w-full p-5 overflow-hidden">
  <owl-carousel-o [options]="FadeOptions">
    <ng-template carouselSlide>
      <img 
        src="images/banner1.jpg" 
        class="w-full max-h-[500px] object-contain sm:object-cover rounded-xl transition-all duration-500" 
      />
    </ng-template>  
    <ng-template carouselSlide>
      <img 
        src="images/banner2.png" 
        class="w-full max-h-[500px] object-contain sm:object-cover rounded-xl transition-all duration-500" 
      />
    </ng-template>  
    <ng-template carouselSlide>
      <img 
        src="images/banner3.png" 
        class="w-full max-h-[500px] object-contain sm:object-cover rounded-xl transition-all duration-500" 
      />
    </ng-template>  
    <ng-template carouselSlide>
      <img 
        src="images/banner4.png" 
        class="w-full max-h-[500px] object-contain sm:object-cover rounded-xl transition-all duration-500" 
      />
    </ng-template>  
  </owl-carousel-o>
</section>


<section class="py-8 ">
  <div class="container mx-auto px-4">
    <h3 class="text-3xl font-semibold mb-6 text-center text-[#7DB1C7]">
      Popular Categories
    </h3>
    <owl-carousel-o [options]="customOptions">
      @for (category of myCategories; track $index) {
        <ng-template carouselSlide>
          <div class="p-2 group">
            <div class="rounded-xl overflow-hidden shadow-md hover:shadow-xl cursor-pointer transform  group-hover:scale-105 transition-[shadow_transform] duration-300 bg-white">
              <img
                class="w-full h-[300px]  object-cover"
                [src]="category.image"
                [alt]="category.name"
                [title]="category.name"
              />
              <div class="p-4 text-center">
                <h4 class="text-lg font-medium text-[#7DB1C7]">
                  {{ category.name }}
                </h4>
              </div>
            </div>
          </div>
        </ng-template>
      }
    </owl-carousel-o>
  </div>
</section>



<section>
    <div class="container mx-auto px-4">

      <input type="text" [(ngModel)]="searchItem"  placeholder="Search...."  class="w-[70%]  mx-auto placeholder:text-sm placeholder:font-medium text-[#235a6f] px-4 py-2 border block border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-hoverColor">
        <div class="parent text-[#7DB1C7] grid  sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-3.5 px-2 my-5">
            @for (product of myProducts |search : searchItem; track product._id) {
                <div   class="card group bg-[#fffffe] rounded-xl overflow-hidden shadow-sm relative p-1 cursor-pointer ">
                  <div [routerLink]="['/details', product._id]">
                                    <div class="card-img">
                    <img class="w-full rounded-xl h-[375px] object-cover " [src]="product.imageCover" alt="">
                </div>
                <div class="card-body px-2 py-4">
                    <h4 class='  text-[13px]' > {{product.category.name}} </h4>
                    <h3 class='text-[17px] ' >  {{product.title.split(' ').slice(0,3).join(' ')}} </h3>
                    <div class='flex justify-between items-center' >
                    <span> {{product.price }} EGP</span>
                    
                    <div class="flex items-center gap-1">
                        <i class="fas fa-star text-yellow-300"></i>

                        <span class=""> {{product.ratingsAverage}} </span>
                    </div>
                           
                    </div>
                    

                </div>
                  </div>
                 <a 
                    class="w-[90%] capitalize block mx-auto cursor-pointer text-center px-3 py-2 text-sm  text-[#235a6f] bg-hoverColor rounded-lg hover:bg-hoverColor/90 ">

                        add to card                           
                 </a>

            </div>
            }

        </div> 

         <!-- pagganatio -->
            @if (metadata?.numberOfPages > 1) {
            <div class="flex  mx-6 flex-wrap gap-2">
                
                @for (page of pages; track $index) {

                <button 
                    (click)="callAPI(page)"
                    [class.bg-hoverColor]="page === currentPage"
                    [class.bg-mainBg]="page !== currentPage"
                    class="text-mainColor px-3 py-1 rounded cursor-pointer"
                >
                    {{ page }}
                </button>
                
                }
                <span>..</span>
              </div>
    }
  
    </div>
</section>
